<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE command_inventory SYSTEM "file://bladelogic.com/dtds/Command-Inventory.dtd">
<command_inventory>
    <name_space name="Snapshot">
       	<complex_command command_id="findAllByComponentPS" published="yes" release="yes">  
		<name>findAllByComponentPS</name>
		<description>
			<author/>
			<paragraph/>
		</description>
		<argument_list>
			<argument desc="" name="componentKey">com.bladelogic.model.base.keys.DBKey</argument>
		</argument_list>
		<commands_to_execute>
			<command_invocation>
				<namespace_ref>Snapshot</namespace_ref>
				<name>findAllByComponent</name>
				<input>$componentKey$</input>
			</command_invocation>
			<command_invocation>
				<namespace_ref>Utility</namespace_ref>
				<name>setTargetObject</name>
				<input/>
			</command_invocation>
			<command_invocation>
				<namespace_ref>Snapshot</namespace_ref>
				<name>getDBKey</name>
				<input/>
			</command_invocation>
			<command_invocation>
				<namespace_ref>Utility</namespace_ref>
				<name>setTargetObject</name>
				<input/>
			</command_invocation>
			<command_invocation>
				<namespace_ref>Utility</namespace_ref>
				<name>listPrint</name>
				<input/>
			</command_invocation>
		</commands_to_execute>
	</complex_command>
      <complex_command command_id="deleteSnapshot" published="yes" release="yes">  
		<name>deleteSnapshot</name>
		<description>
			<author/>
			<paragraph/>
		</description>
		<argument_list>
			<argument desc="" name="snapshotKey">com.bladelogic.model.base.keys.DBKey</argument>
		</argument_list>
		<commands_to_execute>
			<command_invocation>
				<namespace_ref>Delete</namespace_ref>
				<name>deleteModelObject</name>
				<input>9 $snapshotKey$ true</input>
			</command_invocation>
		</commands_to_execute>
	 </complex_command>
       <complex_command command_id="getSnapshotKeyByJobRunIdAndComponentKey" published="yes" release="yes">  
		<name>getSnapshotKeyByJobRunIdAndComponentKey</name>
		<description>
			<author/>
			<paragraph/>
		</description>
		<argument_list>
			<argument desc="" name="runId">int</argument>
			<argument desc="" name="componentKey">com.bladelogic.model.base.keys.DBKey</argument>
		</argument_list>
		<commands_to_execute>
			<command_invocation>
				<namespace_ref>Component</namespace_ref>
				<name>componentKeyToName</name>
				<input>$componentKey$</input>
				<store_result>
					<name>componentName</name>
				</store_result>
			</command_invocation>
			<command_invocation>
                    <namespace_ref>Snapshot</namespace_ref>
                    <name>findAllByJobRun</name>
                    <input>$runId$</input>
                    <store_result>
                        <name>snapshotList</name>
                    </store_result>
                	</command_invocation>
                	<command_invocation>
                    <namespace_ref>Snapshot</namespace_ref>
                    <name>getName</name>
                    <input/>
                    <store_result>
                        <name>snapshotNameList</name>
                    </store_result>
                </command_invocation>
                <command_invocation>
                    <namespace_ref>Utility</namespace_ref>
                    <name>setTargetObject</name>
                    <input>snapshotNameList</input>
                </command_invocation>
                <command_invocation>
                    <namespace_ref>Utility</namespace_ref>
                    <name>stringListGetIndexes</name>
                    <input>contains NAMED_OBJECT=componentName</input>
                    <store_result>
                        <name>indexList</name>
                    </store_result>
                </command_invocation>
                <command_invocation>
                    <namespace_ref>Utility</namespace_ref>
                    <name>setTargetObject</name>
                    <input>indexList</input>
                </command_invocation>
                <command_invocation>
                    <namespace_ref>Utility</namespace_ref>
                    <name>listItemSelect</name>
                    <input>0</input>
                    <store_result>
                        <name>snapIndex</name>
                    </store_result>
                </command_invocation>
                <command_invocation>
                    <namespace_ref>Utility</namespace_ref>
                    <name>setTargetObject</name>
                    <input>snapshotList</input>
                </command_invocation>
                <command_invocation>
                    <namespace_ref>Utility</namespace_ref>
                    <name>listItemSelect</name>
                    <input>NAMED_OBJECT=snapIndex</input>
                    <store_result>
                        <name>snapshot</name>
                    </store_result>
               </command_invocation>
		   <command_invocation>
			  <namespace_ref>Utility</namespace_ref>
			  <name>setTargetObject</name>
			  <input/>
		   </command_invocation>
		   <command_invocation>
			  <namespace_ref>Snapshot</namespace_ref>
			  <name>getDBKey</name>
	    		  <input/>
		   </command_invocation>
		</commands_to_execute>
	   </complex_command>
       <complex_command command_id="findAllJobRunIdsPS" published="yes" release="yes">  
		<name>findAllJobRunIdsPS</name>
		<description>
			<author/>
			<paragraph/>
		</description>
		<argument_list>
			<argument desc="" name="componentKey">com.bladelogic.model.base.keys.DBKey</argument>
		</argument_list>
		<commands_to_execute>
			<command_invocation>
				<namespace_ref>Snapshot</namespace_ref>
				<name>findAllByComponent</name>
				<input>$componentKey$</input>
			</command_invocation>
			<command_invocation>
				<namespace_ref>Utility</namespace_ref>
				<name>setTargetObject</name>
				<input/>
			</command_invocation>
			<command_invocation>
				<namespace_ref>Snapshot</namespace_ref>
				<name>getJobRunId</name>
				<input/>
			</command_invocation>
			<command_invocation>
				<namespace_ref>Utility</namespace_ref>
				<name>setTargetObject</name>
				<input/>
			</command_invocation>
			<command_invocation>
				<namespace_ref>Utility</namespace_ref>
				<name>listPrint</name>
				<input/>
			</command_invocation>
		</commands_to_execute>
	 </complex_command>
       <complex_command command_id="findAllJobKeysPS" published="yes" release="yes">  
		<name>findAllJobKeysPS</name>
		<description>
			<author/>
			<paragraph/>
		</description>
		<argument_list>
			<argument desc="" name="componentKey">com.bladelogic.model.base.keys.DBKey</argument>
		</argument_list>
		<commands_to_execute>
			<command_invocation>
				<namespace_ref>Snapshot</namespace_ref>
				<name>findAllByComponent</name>
				<input>$componentKey$</input>
			</command_invocation>
			<command_invocation>
				<namespace_ref>Utility</namespace_ref>
				<name>setTargetObject</name>
				<input/>
			</command_invocation>
			<command_invocation>
				<namespace_ref>Snapshot</namespace_ref>
				<name>getJobKey</name>
				<input/>
			</command_invocation>
			<command_invocation>
				<namespace_ref>Utility</namespace_ref>
				<name>setTargetObject</name>
				<input/>
			</command_invocation>
			<command_invocation>
				<namespace_ref>Utility</namespace_ref>
				<name>listPrint</name>
				<input/>
			</command_invocation>
		</commands_to_execute>
	 </complex_command>
     </name_space>
</command_inventory>
